(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports={
  "name": "absolutbank",
  "prefixes": [
    458563
  ],
  "country": "by",
  "localTitle": "Абсолютбанк",
  "engTitle": "Absolutbank",
  "url": "http://www.absolutbank.by",
  "color": "#B72930"
}
},{}],2:[function(require,module,exports){
module.exports={
  "name": "alfabank-by",
  "prefixes": [
    437350,
    458520,
    458521,
    458522,
    458523
  ],
  "country": "by",
  "localTitle": "Альфабанк",
  "engTitle": "Alfabank",
  "url": "https://www.alfabank.by/",
  "color": "#EE3124"
}
},{}],3:[function(require,module,exports){
module.exports={
  "name": "alfabank",
  "prefixes": [
    521178,
    548673,
    548601,
    45841,
    415428,
    415481,
    415482,
    676371,
    477964
  ],
  "country": "ru",
  "localTitle": "Альфа-Банк",
  "engTitle": "Alfa-Bank",
  "url": "https://alfabank.ru/",
  "color": "#F22F17"
}

},{}],4:[function(require,module,exports){
module.exports={
  "name": "amexbelgiumcorporate",
  "prefixes": [
    374190
  ],
  "country": "be",
  "localTitle": "American Express",
  "engTitle": "American Express",
  "url": "https://network.americanexpress.com/be/fr/homepage/landing.aspx",
  "color": "#67B198"
}

},{}],5:[function(require,module,exports){
module.exports={
  "name": "belapb",
  "prefixes": [
    432036,
    432037,
    432038,
    432039,
    432040,
    432041,
    520195,
    522208,
    532308,
    547232
  ],
  "country": "by",
  "localTitle": "Белагропромбанк",
  "engTitle": "Belagroprombank",
  "url": "http://www.belapb.by",
  "color": "#FAB606"
}
},{}],6:[function(require,module,exports){
module.exports={
  "name": "belarusbank",
  "prefixes": [
    401803,
    409087,
    424641,
    425519,
    425520,
    425521,
    510035,
    543044,
    543634,
    544598,
    544650,
    547087,
    547091,
    547232,
    547504,
    557075,
    557076
  ],
  "country": "by",
  "localTitle": "Беларусбанк",
  "engTitle": "Belarusbank",
  "url": "http://www.belarusbank.by",
  "color": "#127D49"
}
},{}],7:[function(require,module,exports){
module.exports={
  "name": "belaruskynarodny",
  "prefixes": [
    450040,
    450041,
    450042,
    489062
  ],
  "country": "by",
  "localTitle": "Белорусский народный банк",
  "engTitle": "Beloruskii Narodny Bank",
  "url": "http://www.bnb.by",
  "color": "#F89828"
}
},{}],8:[function(require,module,exports){
module.exports={
  "name": "belgazprom",
  "prefixes": [
    518597,
    518707,
    529922,
    428620,
    428621,
    428622,
    428623,
    428624
  ],
  "country": "by",
  "localTitle": "Белгазпромбанк",
  "engTitle": "Belgazprombank",
  "url": "http://www.belgazprombank.by",
  "color": "#0079C2"
}
},{}],9:[function(require,module,exports){
module.exports={
  "name": "belinvestbank",
  "prefixes": [
    401346,
    434484,
    434485,
    434486,
    434487,
    458291,
    547691,
    557749,
    557884,
    557885
  ],
  "country": "by",
  "localTitle": "Белинвестбанк",
  "engTitle": "Belinvestbank",
  "url": "http://www.belinvestbank.by/",
  "color": "#009881"
}
},{}],10:[function(require,module,exports){
module.exports={
  "name": "bellswissbank",
  "prefixes": [
    410745,
    410746
  ],
  "country": "by",
  "localTitle": "БелСвиссБанк",
  "engTitle": "BelSwiss",
  "url": "https://www.bsb.by/",
  "color": "#EE1D23"
}
},{}],11:[function(require,module,exports){
module.exports={
  "name": "belveb",
  "prefixes": [
    414088,
    414297,
    414298,
    422887,
    447514,
    447515,
    470469,
    499835,
    520658,
    537000,
    544206,
    544578,
    544650,
    547747,
    548475
  ],
  "country": "by",
  "localTitle": "Банк БелВЭБ",
  "engTitle": "BelVEB Bank",
  "url": "http://www.bveb.by/",
  "color": "#F37637"
}
},{}],12:[function(require,module,exports){
module.exports={
  "name": "bpssberbank",
  "prefixes": [
    413857,
    540234,
    544454,
    558682,
    413856,
    431836,
    431837,
    431838,
    437449
  ],
  "country": "by",
  "localTitle": "БПС-Сбербанк",
  "engTitle": "BPS-Sberbank",
  "url": "http://www.bps-sberbank.by/",
  "color": "#1B991B"
}
},{}],13:[function(require,module,exports){
module.exports={
  "name": "citibank",
  "prefixes": [
    527594
  ],
  "country": "ru",
  "localTitle": "Ситибанк",
  "engTitle": "Citibank",
  "url": "https://www.citibank.ru/",
  "color": "#0088CF"
}

},{}],14:[function(require,module,exports){
module.exports={
  "name": "deltabank",
  "prefixes": [
    467939,
    467940,
    467941
  ],
  "country": "by",
  "localTitle": "Дельтабанк",
  "engTitle": "Delta Bank",
  "url": "http://deltabank.by/",
  "color": "#D81E05",
  "defunct": true
}
},{}],15:[function(require,module,exports){
module.exports={
  "name": "homecredit",
  "prefixes": [
    510415,
    510428,
    528065
  ],
  "country": "by",
  "localTitle": "Хоум Кредит Банк",
  "engTitle": "Home Credit Bank",
  "url": "http://homecredit.by/",
  "color": "#E03A3E"
}
},{}],16:[function(require,module,exports){
module.exports={
  "name": "ingbelgium",
  "prefixes": [
    42360
  ],
  "country": "be",
  "localTitle": "ING Belgium",
  "engTitle": "ING Belgium",
  "url": "https://www.ing.be/",
  "color": "#ff6600"
}

},{}],17:[function(require,module,exports){
module.exports={
  "name": "kazkom",
  "prefixes": [
    440564,
    400303
  ],
  "country": "kz",
  "localTitle": "Казкоммерцбанк",
  "engTitle": "Kazkommertsbank",
  "url": "http://kkb.kz/",
  "color": "#008FB4"
}

},{}],18:[function(require,module,exports){
module.exports={
  "name": "mdmbank",
  "prefixes": [
    554372
  ],
  "country": "ru",
  "localTitle": "МДМ Банк",
  "engTitle": "MDM Bank",
  "url": "https://www.mdm.ru/",
  "color": "#820729"
}

},{}],19:[function(require,module,exports){
module.exports={
  "name": "moskvaminsk",
  "prefixes": [
    446505
  ],
  "country": "by",
  "localTitle": "Банк Москва-Минск",
  "engTitle": "Bank Moskva-Minsk",
  "url": "http://www.mmbank.by/",
  "color": "#F2000D"
}
},{}],20:[function(require,module,exports){
module.exports={
  "name": "mtb",
  "prefixes": [
    417753,
    417754,
    417755,
    464990
  ],
  "country": "by",
  "localTitle": "МТБанк",
  "engTitle": "MTBank",
  "url": "http://www.mtbank.by",
  "color": "#005AAB"
}
},{}],21:[function(require,module,exports){
module.exports={
  "name": "paritetbank",
  "prefixes": [
    416676,
    416677,
    427870,
    429737,
    437391,
    459056
  ],
  "country": "by",
  "localTitle": "Паритетбанк",
  "engTitle": "Paritetbank",
  "url": "http://www.paritetbank.by/",
  "color": "#0360A7"
}
},{}],22:[function(require,module,exports){
module.exports={
  "name": "priorbank",
  "prefixes": [
    413059,
    416064,
    417770,
    437458,
    445987,
    458285,
    471326,
    472950,
    480949,
    491698,
    542645,
    548952,
    558349
  ],
  "country": "by",
  "localTitle": "Приорбанк",
  "engTitle": "Priorbank",
  "url": "http://www.priorbank.by",
  "color": "#FFFF00"
}
},{}],23:[function(require,module,exports){
module.exports={
  "name": "raiffeisen",
  "prefixes": [
    462730,
    462729
  ],
  "country": "ru",
  "localTitle": "Райффайзенбанк",
  "engTitle": "Raiffeisenbank",
  "url": "http://www.raiffeisen.ru/",
  "color": "#FFF300"
}

},{}],24:[function(require,module,exports){
module.exports={
  "name": "sberbank",
  "prefixes": [
    427683,
    63900,
    67758,
    427901,
    54693,
    427644,
    427601,
    427631,
    42765
  ],
  "country": "ru",
  "localTitle": "Сбербанк" ,
  "engTitle": "Sberbank",
  "url": "https://www.sberbank.ru",
  "color": "#309C0B"
}

},{}],25:[function(require,module,exports){
module.exports={
  "name": "tinkoff",
  "prefixes": [
    521324,
    437773
  ],
  "country": "ru",
  "localTitle": "Тинькофф Банк",
  "engTitle": "Tinkoff Bank",
  "url": "https://www.tinkoff.ru/",
  "color": "#FFDD2D"
}

},{}],26:[function(require,module,exports){
module.exports={
  "name": "trustbank",
  "prefixes": [
    411856,
    432231,
    432232
  ],
  "country": "by",
  "localTitle": "Трастбанк",
  "engTitle": "Trustbank",
  "url": "http://www.trustbank.by/",
  "color": "#A81429"
}
},{}],27:[function(require,module,exports){
module.exports={
  "name": "vtb",
  "prefixes": [
    445451,
    445452,
    445453,
    445454,
    471346
  ],
  "country": "by",
  "localTitle": "ВТБ (Беларусь)",
  "engTitle": "VTB (Belarus)",
  "url": "http://www.vtb-bank.by",
  "color": "#002E77"
}
},{}],28:[function(require,module,exports){
module.exports={
  "name": "vtb24",
  "prefixes": [
    427229,
    46223,
    527883,
    447520,
    471487
  ],
  "country": "ru",
  "localTitle": "ВТБ 24",
  "engTitle": "VTB 24",
  "url": "http://www.vtb24.ru",
  "color": "#00498F"
}

},{}],29:[function(require,module,exports){
module.exports={
  "name": "yandex",
  "prefixes": [
    518901
  ],
  "country": "ru",
  "localTitle": "Яндекс.Деньги",
  "engTitle": "Yandex Money",
  "url": "https://money.yandex.ru/",
  "color": "#000000"
}

},{}],30:[function(require,module,exports){
const type = require('./type');

const banks = [
  require('./banks/alfabank'),
  require('./banks/citibank'),
  require('./banks/mdm'),
  require('./banks/raiffeisen'),
  require('./banks/sberbank'),
  require('./banks/tinkoff'),
  require('./banks/yandex'),
  require('./banks/vtb24'),
  require('./banks/kazkom'),
  require('./banks/absolutbank'),
  require('./banks/alfabank-by'),
  require('./banks/belapb'),
  require('./banks/belarusbank'),
  require('./banks/belaruskynarodny'),
  require('./banks/belgazprom'),
  require('./banks/belinvestbank'),
  require('./banks/belswissbank'),
  require('./banks/belveb'),
  require('./banks/bpssberbank'),
  require('./banks/deltabank'),
  require('./banks/homecredit'),
  require('./banks/moskvaminsk'),
  require('./banks/mtb'),
  require('./banks/paritetbank'),
  require('./banks/priorbank'),
  require('./banks/trustbank'),
  require('./banks/vtb'),
  require('./banks/amexbelgiumcorporate'),
  require('./banks/ingbelgium')
];

const prefixes = {};

var i;
var j;
for (i = 0; i < banks.length; i++) {
  for (j = 0; j < banks[i].prefixes.length; j++) {
    prefixes[banks[i].prefixes[j]] = banks[i];
  }
}

module.exports = function findBank(cardNumber) {
  const card = cardNumber.toString().replace(/[^\d]/g, '');
  const first5 = card.substr(0, 5);
  const first6 = card.substr(0, 6);
  const bank = prefixes[first6] || prefixes[first5];
  const result = {
    type: type(card)
  };

  var el;
  if (bank) {
    for (el in bank) {
      result[el] = bank[el];
    }
  }

  return result;
};

module.exports.data = banks;

},{"./banks/absolutbank":1,"./banks/alfabank":3,"./banks/alfabank-by":2,"./banks/amexbelgiumcorporate":4,"./banks/belapb":5,"./banks/belarusbank":6,"./banks/belaruskynarodny":7,"./banks/belgazprom":8,"./banks/belinvestbank":9,"./banks/belswissbank":10,"./banks/belveb":11,"./banks/bpssberbank":12,"./banks/citibank":13,"./banks/deltabank":14,"./banks/homecredit":15,"./banks/ingbelgium":16,"./banks/kazkom":17,"./banks/mdm":18,"./banks/moskvaminsk":19,"./banks/mtb":20,"./banks/paritetbank":21,"./banks/priorbank":22,"./banks/raiffeisen":23,"./banks/sberbank":24,"./banks/tinkoff":25,"./banks/trustbank":26,"./banks/vtb":27,"./banks/vtb24":28,"./banks/yandex":29,"./type":31}],31:[function(require,module,exports){
module.exports = function detectCardType(cardNumber) {
  const card = cardNumber.toString().replace(/[^\d]/g, '');
  const types = {
    electron: /^(4026|417500|4405|4508|4844|4913|4917)\d+$/,
    maestro: /^(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)\d+$/,
    dankort: /^(5019)\d+$/,
    interpayment: /^(636)\d+$/,
    unionpay: /^(62|88)\d+$/,
    visa: /^4[0-9]{12}(?:[0-9]{3})?$/,
    mastercard: /^5[1-5][0-9]{14}$/,
    amex: /^3[47][0-9]{13}$/,
    diners: /^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,
    discover: /^6(?:011|5[0-9]{2})[0-9]{12}$/,
    jcb: /^(?:2131|1800|35\d{3})\d{11}$/
  };
  var type;

  for (type in types) {
    if (types[type].test(card)) {
      return type.toString();
    }
  }
};

},{}],32:[function(require,module,exports){
(function(root, factory) {
  if (typeof define === 'function' && define.amd) {
    define(factory);
  } else if (typeof exports === 'object') {
    module.exports = factory();
  } else {
    root.VMasker = factory();
  }
}(this, function() {
  var DIGIT = "9",
      ALPHA = "A",
      ALPHANUM = "S",
      BY_PASS_KEYS = [8, 9, 16, 17, 18, 36, 37, 38, 39, 40, 91, 92, 93],
      isAllowedKeyCode = function(keyCode) {
        for (var i = 0, len = BY_PASS_KEYS.length; i < len; i++) {
          if (keyCode == BY_PASS_KEYS[i]) {
            return false;
          }
        }
        return true;
      },
      mergeMoneyOptions = function(opts) {
        opts = opts || {};
        opts = {
          precision: opts.hasOwnProperty("precision") ? opts.precision : 2,
          separator: opts.separator || ",",
          delimiter: opts.delimiter || ".",
          unit: opts.unit && (opts.unit.replace(/[\s]/g,'') + " ") || "",
          suffixUnit: opts.suffixUnit && (" " + opts.suffixUnit.replace(/[\s]/g,'')) || "",
          zeroCents: opts.zeroCents,
          lastOutput: opts.lastOutput
        };
        opts.moneyPrecision = opts.zeroCents ? 0 : opts.precision;
        return opts;
      },
      // Fill wildcards past index in output with placeholder
      addPlaceholdersToOutput = function(output, index, placeholder) {
        for (; index < output.length; index++) {
          if(output[index] === DIGIT || output[index] === ALPHA || output[index] === ALPHANUM) {
            output[index] = placeholder;
          }
        }
        return output;
      }
  ;

  var VanillaMasker = function(elements) {
    this.elements = elements;
  };

  VanillaMasker.prototype.unbindElementToMask = function() {
    for (var i = 0, len = this.elements.length; i < len; i++) {
      this.elements[i].lastOutput = "";
      this.elements[i].onkeyup = false;
      this.elements[i].onkeydown = false;

      if (this.elements[i].value.length) {
        this.elements[i].value = this.elements[i].value.replace(/\D/g, '');
      }
    }
  };

  VanillaMasker.prototype.bindElementToMask = function(maskFunction) {
    var that = this,
        onType = function(e) {
          e = e || window.event;
          var source = e.target || e.srcElement;

          if (isAllowedKeyCode(e.keyCode)) {
            setTimeout(function() {
              that.opts.lastOutput = source.lastOutput;
              source.value = VMasker[maskFunction](source.value, that.opts);
              source.lastOutput = source.value;
              if (source.setSelectionRange && that.opts.suffixUnit) {
                source.setSelectionRange(source.value.length, (source.value.length - that.opts.suffixUnit.length));
              }
            }, 0);
          }
        }
    ;
    for (var i = 0, len = this.elements.length; i < len; i++) {
      this.elements[i].lastOutput = "";
      this.elements[i].onkeyup = onType;
      if (this.elements[i].value.length) {
        this.elements[i].value = VMasker[maskFunction](this.elements[i].value, this.opts);
      }
    }
  };

  VanillaMasker.prototype.maskMoney = function(opts) {
    this.opts = mergeMoneyOptions(opts);
    this.bindElementToMask("toMoney");
  };

  VanillaMasker.prototype.maskNumber = function() {
    this.opts = {};
    this.bindElementToMask("toNumber");
  };
  
  VanillaMasker.prototype.maskAlphaNum = function() {
    this.opts = {};
    this.bindElementToMask("toAlphaNumeric");
  };

  VanillaMasker.prototype.maskPattern = function(pattern) {
    this.opts = {pattern: pattern};
    this.bindElementToMask("toPattern");
  };

  VanillaMasker.prototype.unMask = function() {
    this.unbindElementToMask();
  };

  var VMasker = function(el) {
    if (!el) {
      throw new Error("VanillaMasker: There is no element to bind.");
    }
    var elements = ("length" in el) ? (el.length ? el : []) : [el];
    return new VanillaMasker(elements);
  };

  VMasker.toMoney = function(value, opts) {
    opts = mergeMoneyOptions(opts);
    if (opts.zeroCents) {
      opts.lastOutput = opts.lastOutput || "";
      var zeroMatcher = ("("+ opts.separator +"[0]{0,"+ opts.precision +"})"),
          zeroRegExp = new RegExp(zeroMatcher, "g"),
          digitsLength = value.toString().replace(/[\D]/g, "").length || 0,
          lastDigitLength = opts.lastOutput.toString().replace(/[\D]/g, "").length || 0
      ;
      value = value.toString().replace(zeroRegExp, "");
      if (digitsLength < lastDigitLength) {
        value = value.slice(0, value.length - 1);
      }
    }
    var number = value.toString().replace(/[\D]/g, ""),
        clearDelimiter = new RegExp("^(0|\\"+ opts.delimiter +")"),
        clearSeparator = new RegExp("(\\"+ opts.separator +")$"),
        money = number.substr(0, number.length - opts.moneyPrecision),
        masked = money.substr(0, money.length % 3),
        cents = new Array(opts.precision + 1).join("0")
    ;
    money = money.substr(money.length % 3, money.length);
    for (var i = 0, len = money.length; i < len; i++) {
      if (i % 3 === 0) {
        masked += opts.delimiter;
      }
      masked += money[i];
    }
    masked = masked.replace(clearDelimiter, "");
    masked = masked.length ? masked : "0";
    if (!opts.zeroCents) {
      var beginCents = number.length - opts.precision,
          centsValue = number.substr(beginCents, opts.precision),
          centsLength = centsValue.length,
          centsSliced = (opts.precision > centsLength) ? opts.precision : centsLength
      ;
      cents = (cents + centsValue).slice(-centsSliced);
    }
    var output = opts.unit + masked + opts.separator + cents + opts.suffixUnit;
    return output.replace(clearSeparator, "");
  };

  VMasker.toPattern = function(value, opts) {
    var pattern = (typeof opts === 'object' ? opts.pattern : opts),
        patternChars = pattern.replace(/\W/g, ''),
        output = pattern.split(""),
        values = value.toString().replace(/\W/g, ""),
        charsValues = values.replace(/\W/g, ''),
        index = 0,
        i,
        outputLength = output.length,
        placeholder = (typeof opts === 'object' ? opts.placeholder : undefined)
    ;
    
    for (i = 0; i < outputLength; i++) {
      // Reached the end of input
      if (index >= values.length) {
        if (patternChars.length == charsValues.length) {
          return output.join("");
        }
        else if ((placeholder !== undefined) && (patternChars.length > charsValues.length)) {
          return addPlaceholdersToOutput(output, i, placeholder).join("");
        }
        else {
          break;
        }
      }
      // Remaining chars in input
      else{
        if ((output[i] === DIGIT && values[index].match(/[0-9]/)) ||
            (output[i] === ALPHA && values[index].match(/[a-zA-Z]/)) ||
            (output[i] === ALPHANUM && values[index].match(/[0-9a-zA-Z]/))) {
          output[i] = values[index++];
        } else if (output[i] === DIGIT || output[i] === ALPHA || output[i] === ALPHANUM) {
          if(placeholder !== undefined){
            return addPlaceholdersToOutput(output, i, placeholder).join("");
          }
          else{
            return output.slice(0, i).join("");
          }
        }
      }
    }
    return output.join("").substr(0, i);
  };

  VMasker.toNumber = function(value) {
    return value.toString().replace(/(?!^-)[^0-9]/g, "");
  };
  
  VMasker.toAlphaNumeric = function(value) {
    return value.toString().replace(/[^a-z0-9 ]+/i, "");
  };

  return VMasker;
}));

},{}],33:[function(require,module,exports){
const banksDB = require('banks-db');
const masker = require('vanilla-masker');

window.onload = function () {
  const cardNumberField = document.getElementById('card-number');

  masker(cardNumberField).maskPattern("9999 9999 9999 9999");

  cardNumberField.oninput = function () {
    const cardNumber = cardNumberField.value;
    const bankInfo = document.getElementById('card');
    const bankName = document.getElementById('bank-name');
    const cardType = document.getElementById('card-type');
    const cardTypeFound = 'card__type_visible';
    const bankFound = 'card__bank-name_visible';
    const bank = banksDB(cardNumber);

    if (typeof bank.name !== 'undefined') {
      bankName.innerHTML = bank.engTitle;
      bankName.classList.add(bankFound);
      bankInfo.style.background = bank.color;
    } else {
      bankName.innerHTML = '';
      bankName.classList.remove(bankFound);
      bankInfo.removeAttribute('style');
    }

    if (typeof bank.type !== 'undefined') {
      cardType.innerHTML = bank.type;
      cardType.classList.add(cardTypeFound);
    } else {
      cardType.innerHTML = '';
      cardType.classList.remove(cardTypeFound);
    }
  };
};

},{"banks-db":30,"vanilla-masker":32}]},{},[33]);
